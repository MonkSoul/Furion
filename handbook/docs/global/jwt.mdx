---
id: jwt
title: 14. JWTEncryption é™æ€ç±»
sidebar_label: 14. JWTEncryption é™æ€ç±»
---

import Tag from "@site/src/components/Tag.js";

<details>
  <summary>ğŸ“ æ¨¡å—æ›´æ–°æ—¥å¿—</summary>
  <div>
<div>

- **é—®é¢˜ä¿®å¤**

  - &nbsp;<Tag>ä¿®å¤</Tag> `JWTEncryption.GetJWTSettings()` ç‹¬ç«‹ä½¿ç”¨æ—¶æ— æ³•è·å–è‡ªå®šä¹‰é…ç½® <sup>4.9.1.4</sup> <sup>â±ï¸2023.11.18</sup> [c045e08](https://gitee.com/dotnetchina/Furion/commit/c045e084670a98f71d5ea5ed55ca5cbbfc981e0b)

</div>
  </div>
</details>

## 14.1 ç”Ÿæˆ `Token`

```cs showLineNumbers 
// è¯»å–é…ç½®ä¿¡æ¯ç”Ÿæˆ Token
var token = JWTEncryption.Encrypt(new Dictionary<string, object> { { "UserId", 1 }  });

// é…ç½® Token è¿‡æœŸæ—¶é—´
var token = JWTEncryption.Encrypt(new Dictionary<string, object> { { "UserId", 1 }  }, 20);

// é…ç½® Token å¯†é’¥
var token = JWTEncryption.Encrypt("monksoul@outlook.com", new Dictionary<string, object> { { "UserId", 1 }  });

// é…ç½®ç®—æ³•
var token = JWTEncryption.Encrypt("monksoul@outlook.com", new Dictionary<string, object> { { "UserId", 1 }  }, SecurityAlgorithms.HmacSha256);
```

## 14.2 ç”Ÿæˆåˆ·æ–° `Token`

```cs showLineNumbers 
var refreshToken = JWTEncryption.GenerateRefreshToken("token", 43200);
```

## 14.3 æ ¹æ®è¿‡æœŸ `Token` äº¤æ¢æ–° `Token`

```cs showLineNumbers 
var newToken = JWTEncryption.Exchange("è¿‡æœŸ token", "ä¸ä¹‹åŒ¹é…çš„åˆ·æ–° token", [æ–°çš„tokenè¿‡æœŸæ—¶é—´], [å®¹é”™å€¼]);
```

## 14.4 æˆæƒå¤„ç†ç¨‹åºè‡ªåŠ¨åˆ·æ–° `Token`

```cs showLineNumbers 
JWTEncryption.AutoRefreshToken(context, httpContext);
```

## 14.5 éªŒè¯ `Token` æœ‰æ•ˆæ€§

```cs showLineNumbers 
var (isValid, tokenData, validationResult) = JWTEncryption.Validate("token");
```

## 14.6 éªŒè¯è¯·æ±‚ä¸­ `Token` æœ‰æ•ˆæ€§

```cs showLineNumbers 
var isValid = JWTEncryption.ValidateJwtBearerToken(httpContext, out tokenInfo);
```

## 14.7 è¯»å– `Token` ä¿¡æ¯ï¼ˆä¸å«éªŒè¯ï¼‰

```cs showLineNumbers 
var tokenInfo = JWTEncryption.ReadJwtToken("token");

// 3.8.2+ ä¹‹åæ”¯æŒæ›´å¼ºå¤§çš„è¯»å–
var securityToken = JWTEncryption.SecurityReadJwtToken("token");
```
