---
id: db
title: 2. Db é™æ€ç±»
sidebar_label: 2. Db é™æ€ç±»
---

import Tag from "@site/src/components/Tag.js";

<details>
  <summary>ğŸ“ æ¨¡å—æ›´æ–°æ—¥å¿—</summary>
  <div>
<div>

- **æ–°ç‰¹æ€§**

  - &nbsp;<Tag>æ–°å¢</Tag> `Db.GetNewDbContext()` å¤šä¸ªé‡è½½æ–¹æ³•ï¼Œå®ç°ç±»ä¼¼ `new DbContext()` æ“ä½œ <sup>4.8.8.55</sup> <sup>â±ï¸2023.11.09</sup> [4157629](https://gitee.com/dotnetchina/Furion/commit/41576295473fefc47f6961154909a690d7c5ed58)

</div>
  </div>
</details>

## 2.1 è·å–éæ³›å‹ä»“å‚¨

```cs showLineNumbers 
var repository = Db.GetRepository();
```

## 2.2 è·å–æ³›å‹ä»“å‚¨

```cs showLineNumbers 
var entityRepository = Db.GetRepository<TEntity>();
```

## 2.3 è·å–å¸¦å®šä½å™¨æ³›å‹ä»“å‚¨

```cs showLineNumbers 
var locatorRepository = Db.GetRepository<TEntity, TDbContextLocator>();
```

## 2.4 è·å– `Sql` ä»“å‚¨

```cs showLineNumbers 
var sqlRepository = Db.GetSqlRepository();
```

## 2.5 è·å– `Sql` å®šä½å™¨ä»“å‚¨

```cs showLineNumbers 
var sqlLocatorRepository = Db.GetSqlRepository<TDbContextLocator>();
```

## 2.6 è·å– `Sql` ä»£ç†å¯¹è±¡

```cs showLineNumbers 
var sqlProxy= Db.GetSqlProxy<TSqlDispatchProxy>();
```

## 2.7 è·å–é»˜è®¤æ•°æ®åº“ä¸Šä¸‹æ–‡

```cs showLineNumbers 
var dbContext = Db.GetDbContext();
```

## 2.8 è·å–å®šä½å™¨æ•°æ®åº“ä¸Šä¸‹æ–‡

```cs showLineNumbers 
var locatorDbContext = Db.GetDbContext<TDbContextLocator>();
var locatorDbContext2 = Db.GetDbContext(typeof(TDbContextLocator));
```

## 2.9 åˆ›å»ºæ–°çš„é»˜è®¤æ•°æ®åº“ä¸Šä¸‹æ–‡

```cs showLineNumbers 
using var dbContext = Db.GetNewDbContext(); // åˆ«å¿˜è®° usingï¼ŒFurion 4.8.8.55+ ç‰ˆæœ¬æœ‰æ•ˆ
```

## 2.10 åˆ›å»ºæ–°çš„å®šä½å™¨æ•°æ®åº“ä¸Šä¸‹æ–‡

```cs showLineNumbers 
using var locatorDbContext = Db.GetNewDbContext<TDbContextLocator>(); // åˆ«å¿˜è®° usingï¼ŒFurion 4.8.8.55+ ç‰ˆæœ¬æœ‰æ•ˆ
using var locatorDbContext2 = Db.GetNewDbContext(typeof(TDbContextLocator)); // åˆ«å¿˜è®° usingï¼ŒFurion 4.8.8.55+ ç‰ˆæœ¬æœ‰æ•ˆ
```

## 2.11 æ ¹æ®å®šä½å™¨ç±»å‹è·å–ä»“å‚¨

```cs showLineNumbers 
var repository = Db.GetRepository<TEntity>(dbContextLocatorType);
```

## 2.12 è·å– `ä¸»ä»åº“` ä»“å‚¨

```cs showLineNumbers 
var msRepository = Db.GetMSRepository();
```

## 2.13 è·å– `Sql` ä¸»åº“å®šä½å™¨ä»“å‚¨

```cs showLineNumbers 
var msLocatorRepository = Db.GetMSRepository<TMasterDbContextLocator>();
```

## 2.14 è·å–ç‰¹å®šå®šä½å™¨ä»“å‚¨

```cs showLineNumbers 
var msLocatorRepository = Db.GetDbRepository<TDbContextLocator>();
```