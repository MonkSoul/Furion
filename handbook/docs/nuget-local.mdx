---
id: nuget-local
title: 2.15 NuGet 本地调试包
sidebar_label: 2.15 NuGet 本地调试包
description: 如何使用 NuGet 本地调试包
---

import useBaseUrl from "@docusaurus/useBaseUrl";

## 2.15.1 关于本地测试包

正常情况下，我们都是通过 `NuGet` 在线平台（Visual Studio 内置的 `NuGet` 包管理器）安装拓展依赖，**但有时候我们不希望发布到 `NuGet` 平台或者只想在本地使用又或者先在本地测试通过再发布。**

这样做的好处是：

- 可以有效保护公司核心代码
- 方便开源项目测试

## 2.15.2 如何配置

### 2.15.2.1 测试包命名规则

默认情况下，`Furion` 会根据 `Furion.版本号-beta.Issue编号` 规则生成 `.nupkg` 和 `.snupkg` 包，前者是不包含调试的无符号 `NuGet` 包，后者则是调试符号包（方便 `IDE` 调试用的），如：

```showLineNumbers title="D:\Furion_NuGet_Test_Packages"
Furion.4.2.3-beta-I5MM3O.nupkg
Furion.4.2.3-beta-I5MM3O.snupkg
```

其中 `I5MM3O` 对应的正是 `Issue` 的编号：[https://gitee.com/dotnetchina/Furion/issues/I5MM3O](https://gitee.com/dotnetchina/Furion/issues/I5MM3O)

### 2.15.2.2 配置本地包路径

有了这两个包之后，就可以在本地磁盘中创建文件夹并放进去，如 `D:\Furion_NuGet_Test_Packages`。

<img src={useBaseUrl("img/ng1.png")} />

### 2.15.2.3 在 `Visual Studio` 中配置路径

<img src={useBaseUrl("img/ng2.png")} />

<img src={useBaseUrl("img/ng3.png")} />

<img src={useBaseUrl("img/ng4.png")} />

:::tip 关于命令行操作

如果不使用可视化 `IDE` 配置，可通过下列命令行配置：

```bash
dotnet restore "YourProject.Web.Entry/YourProject.Web.Entry.csproj" -s "D:\Furion_NuGet_Test_Packages";
dotnet restore "YourProject.Web.Entry/YourProject.Web.Entry.csproj" -s "https://api.nuget.org/v3/index.json";
```

:::

### 2.15.2.4 选择测试版安装或更新

<img src={useBaseUrl("img/ng5.png")} />

<img src={useBaseUrl("img/ng6.png")} />

<img src={useBaseUrl("img/ng7.png")} />

<br />

**测试通过后可以删除之前的配置即可**，如：

<img src={useBaseUrl("img/ng8.png")} />

## 2.15.3 `Visual Studio` 调试 `NuGet` 包

`Furion` 提供了 `.snupkg` 包，在安装 `Furion` 的时候自动下载到本地，如需启用源码调试，只需要启用以下配置即可：

<img src={useBaseUrl("img/vs10.png")} />

启用之后重新编译解决方案就可以通过 `F12` 跳转到源代码区并调试源代码了。

## 2.15.4 反馈与建议

:::note 与我们交流

给 Furion 提 [Issue](https://gitee.com/dotnetchina/Furion/issues/new?issue)。

:::
