<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.1">
<link rel="alternate" type="application/rss+xml" href="/furion/blog/rss.xml" title="Furion Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/furion/blog/atom.xml" title="Furion Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Furion" href="/furion/opensearch.xml"><title data-react-helmet="true">35.1 Docker ç¯å¢ƒæŒç»­éƒ¨ç½² | Furion</title><meta data-react-helmet="true" property="og:url" content="https://furion.pro/furion/docs/deploy-docker-auto"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="35.1 Docker ç¯å¢ƒæŒç»­éƒ¨ç½² | Furion"><meta data-react-helmet="true" name="description" content="35.1.1 å…³äºå…¨Docker ç¯å¢ƒéƒ¨ç½²"><meta data-react-helmet="true" property="og:description" content="35.1.1 å…³äºå…¨Docker ç¯å¢ƒéƒ¨ç½²"><link data-react-helmet="true" rel="shortcut icon" href="/furion/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://furion.pro/furion/docs/deploy-docker-auto"><link data-react-helmet="true" rel="alternate" href="https://furion.pro/furion/docs/deploy-docker-auto" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://furion.pro/furion/docs/deploy-docker-auto" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/furion/assets/css/styles.83830856.css">
<link rel="preload" href="/furion/assets/js/runtime~main.9d1289c1.js" as="script">
<link rel="preload" href="/furion/assets/js/main.d28e27a7.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div class="furion-give-me-star">â­ï¸ å¦‚æœä½ å–œæ¬¢ <a href="https://gitee.com/dotnetchina/Furion" target="_blank">Furion</a> ï¼Œå¯ä»¥åœ¨ <a href="https://gitee.com/dotnetchina/Furion" target="_blank">Gitee</a> ä¸­ç»™ä¸ª<a href="https://gitee.com/dotnetchina/Furion" target="_blank"><img class="furion-gitee-star" src="https://gitee.com/dotnetchina/Furion/badge/star.svg?theme=gvp" alt="star"></a> â­ï¸</div><div><a href="#main" class="skipToContent_1oUP shadow--md">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/furion/"><img src="/furion/img/furionlogo.png" alt="Furion Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/furion/img/furionlogo.png" alt="Furion Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Furion</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/furion/docs">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/furion/docs/global/app">é™æ€ç±»</a><a class="navbar__item navbar__link" href="/furion/docs/settings/appsettings">é…ç½®</a><a class="navbar__item navbar__link" href="/furion/blog">åšå®¢</a><a class="navbar__item navbar__link" href="/furion/docs/upgrade">æ›´æ–°æ—¥å¿—</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">æºç </a><ul class="dropdown__menu"><li><a href="https://gitee.com/dotnetchina/Furion" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Gitee<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://github.com/MonkSoul/Furion" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><a href="https://www.chinadot.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>ç¤¾åŒº<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link" href="/furion/docs/case">æ¡ˆä¾‹</a><a class="navbar__item navbar__link" href="/furion/docs/donate">æ”¯æŒâœ¨</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/furion/"><img src="/furion/img/furionlogo.png" alt="Furion Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/furion/img/furionlogo.png" alt="Furion Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Furion</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/furion/docs">æ–‡æ¡£</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/global/app">é™æ€ç±»</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/settings/appsettings">é…ç½®</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/blog">åšå®¢</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/upgrade">æ›´æ–°æ—¥å¿—</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">æºç </a><ul class="menu__list"><li class="menu__list-item"><a href="https://gitee.com/dotnetchina/Furion" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://github.com/MonkSoul/Furion" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></li><li class="menu__list-item"><a href="https://www.chinadot.net" target="_blank" rel="noopener noreferrer" class="menu__link"><span>ç¤¾åŒº<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/case">æ¡ˆä¾‹</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/donate">æ”¯æŒâœ¨</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/furion/"><img src="/furion/img/furionlogo.png" alt="Furion Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/furion/img/furionlogo.png" alt="Furion Logo" class="themedImage_1VuW themedImage--dark_hz6m"><b>Furion</b></a><nav class="menu menu--responsive thin-scrollbar menu_Bmed" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">1. åºè¨€</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/">1.1 ä»‹ç»</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/author">1.2 å…³äºä½œè€…</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/source">1.3 ç¤ºä¾‹ç»“æ„</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/case">1.4 æ¡†æ¶æ¡ˆä¾‹</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/donate">1.5 æ”¯æŒ Furion</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/upgrade">1.6 æ›´æ–°æ—¥å¿—</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/course">1.7 å‘å±•å¤§äº‹è®°</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">2. å…¥é—¨æŒ‡å—</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/get-start">2.1 ä¸€åˆ†é’Ÿä¸Šæ‰‹</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/template">2.2 å®˜æ–¹è„šæ‰‹æ¶</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/reference">2.3 æ‰‹åŠ¨æ­å»ºåˆ†å±‚</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/inject">2.4 ç¥å¥‡çš„ Inject</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/appstartup">3. åº”ç”¨å¯åŠ¨ Startup</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">4. é…ç½®ä¸é€‰é¡¹</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/configuration">4.1 é…ç½®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/options">4.2 é€‰é¡¹</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/dynamic-api-controller">5. åŠ¨æ€ WebAPI</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/specification-document">6. è§„èŒƒåŒ–æ¥å£æ–‡æ¡£ (Swagger)</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/friendly-exception">7. å‹å¥½å¼‚å¸¸å¤„ç†</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/data-validation">8. æ•°æ®æ ¡éªŒ</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">9. æ•°æ®åº“æ“ä½œæŒ‡å—ï¼ˆEFCoreï¼‰</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-start">9.0 å…¥é—¨ç®€è¦ âœ¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext">9.1 æ•°æ®åº“ä¸Šä¸‹æ–‡</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-locator">9.2 æ•°æ®åº“ä¸Šä¸‹æ–‡å®šä½å™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/entity">9.3 æ•°æ®åº“å®ä½“</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-repository">9.4 ä»“å‚¨æ¨¡å¼ (Repository)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-add">9.5 æ–°å¢æ“ä½œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-update">9.6 æ›´æ–°æ“ä½œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-add-or-update">9.7 æ–°å¢æˆ–æ›´æ–°æ“ä½œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-delete">9.8 åˆ é™¤æ“ä½œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-batch">9.9 æ‰¹é‡æ“ä½œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-query">9.10 æŸ¥è¯¢æ“ä½œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-hight-query">9.11 é«˜çº§æŸ¥è¯¢æ“ä½œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-view">9.12 è§†å›¾æ“ä½œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-proc">9.13 å­˜å‚¨è¿‡ç¨‹æ“ä½œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-function">9.14 å‡½æ•°æ“ä½œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-sql">9.15 Sql æ“ä½œ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-sql-template">9.16 Sql æ¨¡æ¿</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-sql-proxy">9.17 Sql é«˜çº§ä»£ç†</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-multi-database">9.18 å¤šç§æ•°æ®åº“æ“ä½œ âœ¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-db-first">9.19 æ•°æ®åº“ç”Ÿæˆæ¨¡å‹ (Db First)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-code-first">9.20 æ¨¡å‹ç”Ÿæˆæ•°æ®åº“ (Code First)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-seed-data">9.21 å®ä½“ç§å­æ•°æ®</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-audit">9.22 å®¡è®¡æ—¥å¿— (Audit)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-filter">9.23 å®ä½“/å…¨å±€æŸ¥è¯¢ç­›é€‰å™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-Interceptor">9.24 æ•°æ®åº“æ“ä½œæ‹¦æˆªå™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-entitytrigger">9.25. å®ä½“æ•°æ®ç›‘å¬å™¨</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/tran">9.26 äº‹åŠ¡å’Œå·¥ä½œå•å…ƒ (UnitOfWork)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dbcontext-read-write">9.27 è¯»å†™åˆ†ç¦»/ä¸»ä»å¤åˆ¶</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/split-db">9.28 åˆ†è¡¨åˆ†åº“</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/efcore-recommend">9.29 EFCore æœ€ä½³å®è·µ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">10. SqlSugar æˆ–å…¶ä»– ORM</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/sqlsugar">10.1. SqlSugar é›†æˆ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/dapper">10.2. Dapper é›†æˆ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/mongodb">10.3. MongoDB æ“ä½œ</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/saas">11. SaaS å¤šç§Ÿæˆ·</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/dependency-injection">12. ä¾èµ–æ³¨å…¥/æ§åˆ¶åè½¬</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/object-mapper">13. å¯¹è±¡æ•°æ®æ˜ å°„ Mapper</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/cache">14. åˆ†å¸ƒå¼ç¼“å­˜</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/auth-control">15. å®‰å…¨é‰´æƒ</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/cors">16. CORS è·¨åŸŸ</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/view-engine">17. è§†å›¾å¼•æ“</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/logging">18. æ—¥å¿—è®°å½•</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/http">19. è¿œç¨‹è¯·æ±‚ (HttpClient)</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/encryption">20. æ•°æ®åŠ è§£å¯†</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/local-language">21. å…¨çƒåŒ–å’Œæœ¬åœ°åŒ–ï¼ˆå¤šè¯­è¨€ï¼‰</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/event-bus">22. äº‹ä»¶æ€»çº¿</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/json-serialization">23. JSON åºåˆ—åŒ–</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/signalr">24. å³æ—¶é€šè®¯</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/process-service">25. è¾…åŠ©è§’è‰²æœåŠ¡ (Worker Service)</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/job">26. å®šæ—¶ä»»åŠ¡/åå°ä»»åŠ¡</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/idgenerator">27. åˆ†å¸ƒå¼ ID ç”Ÿæˆ</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/module-dev">28. æ¨¡å—åŒ–å¼€å‘</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/clayobj">29. ç²˜åœŸå¯¹è±¡</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/sensitive-detection">30. è„±æ•å¤„ç†</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/file-provider">31. è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/sesssion-state">32. ä¼šè¯å’ŒçŠ¶æ€ç®¡ç†</a></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/microservice">33. Anno å¾®æœåŠ¡</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">34. æ‰˜ç®¡éƒ¨ç½²</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/deploy-iis">34.1 åœ¨ IIS éƒ¨ç½²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/deploy-docker">34.2 åœ¨ Docker éƒ¨ç½²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/deploy-nginx">34.3 åœ¨ Nginx éƒ¨ç½²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/virtual-deploy">34.4 äºŒçº§è™šæ‹Ÿç›®å½•éƒ¨ç½²</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">35. æŒç»­éƒ¨ç½²é›†æˆ</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/furion/docs/deploy-docker-auto">35.1 Docker ç¯å¢ƒæŒç»­éƒ¨ç½²</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/furion/docs/devops">35.2 æŒç»­éƒ¨ç½²é›†æˆ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">36. æµ‹è¯•æŒ‡å—</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/unittest">36.1 å•å…ƒæµ‹è¯•</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/performance">36.2 æ€§èƒ½æµ‹è¯•</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/furion/docs/benchmark">36.3 åŸºå‡†æµ‹è¯•</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/furion/docs/contribute">37. è´¡çŒ®æŒ‡å—</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">35.1 Docker ç¯å¢ƒæŒç»­éƒ¨ç½²</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="3511-å…³äºå…¨docker-ç¯å¢ƒéƒ¨ç½²"></a>35.1.1 å…³äºå…¨<code>Docker</code> ç¯å¢ƒéƒ¨ç½²<a class="hash-link" href="#3511-å…³äºå…¨docker-ç¯å¢ƒéƒ¨ç½²" title="Direct link to heading">#</a></h2><p>åˆ©ç”¨æ‹¥æœ‰ Dotnet ç¯å¢ƒçš„ Jenkinsï¼Œè¿›è¡ŒæŒç»­åŒ–éƒ¨ç½²</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="3512-å®‰è£…-docker-ç‰ˆ-jenkins"></a>35.1.2 å®‰è£… Docker ç‰ˆ Jenkins<a class="hash-link" href="#3512-å®‰è£…-docker-ç‰ˆ-jenkins" title="Direct link to heading">#</a></h2><p>æ­£å¸¸åœ¨ Docker ä¸­æ‹‰å–çš„ Jenkins:lts æ˜¯æ— æ³•æ‰§è¡Œ Dotnet å‘½ä»¤çš„ï¼ˆå°±ç®—ä½ å®¿ä¸»æœºæœ‰ dotnet ç¯å¢ƒã€docker ä¸­ä¹Ÿæœ‰ Dotnet ç¯å¢ƒä¹Ÿä¸å¯ä»¥ï¼‰ï¼Œ
æ‰€ä»¥æˆ‘ä»¬åªèƒ½æ„å»ºä¸€ä¸ªåŒ…å« Dotnet çš„é•œåƒ</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="35121-ä½¿ç”¨-dockerfile-åˆ¶ä½œé•œåƒ"></a>35.1.2.1 ä½¿ç”¨ Dockerfile åˆ¶ä½œé•œåƒ<a class="hash-link" href="#35121-ä½¿ç”¨-dockerfile-åˆ¶ä½œé•œåƒ" title="Direct link to heading">#</a></h3><p>ä½¿ç”¨ Dockerfile åˆ›å»ºåŒ…å« dotnet çš„ Jenkins é•œåƒ</p><ul><li>ğŸ‘‰ ç¼–å†™ <code>Dockerfile</code></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># å°è£…Jenkinsé•œåƒï¼ˆå¸¦æœ‰dotnetç¯å¢ƒçš„ï¼‰ sdk=5.1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">FROM jenkins/jenkins:lts</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token environment constant" style="color:rgb(130, 170, 255)">USER</span><span class="token plain"> root</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">WORKDIR /dotnet</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RUN </span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> -O dotnet.tar.gz https://download.visualstudio.microsoft.com/download/pr/820db713-c9a5-466e-b72a-16f2f5ed00e2/628aa2a75f6aa270e77f4a83b3742fb8/dotnet-sdk-5.0.100-linux-x64.tar.gz</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RUN </span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> zxf dotnet.tar.gz -C ./</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RUN </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -rf dotnet.tar.gz</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ENV </span><span class="token assign-left variable environment constant" style="color:rgb(130, 170, 255)">PATH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">${</span><span class="token string variable environment constant" style="color:rgb(130, 170, 255)">PATH</span><span class="token string variable" style="color:rgb(191, 199, 213)">}</span><span class="token string" style="color:rgb(195, 232, 141)">:/dotnet:/var/jenkins_home/.dotnet/tools&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ENV </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">DOTNET_ROOT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/dotnet&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RUN </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> update -y</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RUN </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> icu-devtools </span><span class="token function" style="color:rgb(130, 170, 255)">vim</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">zip</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">unzip</span><span class="token plain"> -y</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">RUN </span><span class="token function" style="color:rgb(130, 170, 255)">usermod</span><span class="token plain"> -a -G root jenkins</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token environment constant" style="color:rgb(130, 170, 255)">USER</span><span class="token plain"> jenkins</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>ğŸ‘‰ å‘½ä»¤è§£é‡Š</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain">.è¿™ä¸ªDockeré•œåƒåŸºäºjenkins</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain">.è®¾ç½®å½“å‰ç”¨æˆ·ä¸ºrootï¼Œå› ä¸ºåé¢å®‰è£…éœ€è¦ä½¿ç”¨root</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain">.è®¾ç½®å½“å‰å·¥ä½œç›®å½•ä¸ºdotnet</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain">.ä¸‹è½½dotnet SDKåŒ…ï¼Œä¿å­˜ä¸ºdotnet.tar.gzã€‚è¿™é‡Œè¦æ³¨æ„ä¸‹è½½æ­£ç¡®ç‰ˆæœ¬çš„SDKï¼Œå¯å‰å¾€å¾®è½¯å®˜æ–¹ç½‘ç«™è·å–ä¸‹è½½é“¾æ¥ï¼šhttps://dotnet.microsoft.com/download</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain">.è§£å‹dotnet SDKåˆ°å½“å‰ç›®å½•ï¼Œå³/dotnetç›®å½•</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token plain">.åˆ é™¤dotnet SDKåŒ…</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">7</span><span class="token plain">.æŠŠdotnetç›®å½•å’Œdotnet toolsç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡</span><span class="token environment constant" style="color:rgb(130, 170, 255)">PATH</span><span class="token plain">ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨dotnetå‘½ä»¤äº†</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">8</span><span class="token plain">.è®¾ç½®DOTNET_ROOTå˜é‡</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">9</span><span class="token plain">.æ›´æ–°æº</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain">.å®‰è£…ä¸€äº›å¿…éœ€çš„ï¼Œå¸¸ç”¨çš„å·¥å…·åŒ…ï¼Œå…¶ä¸­icu-devtoolsæ˜¯è¿è¡Œdotnetéœ€è¦çš„</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">11</span><span class="token plain">.ä¿®æ”¹jenkinsç”¨æˆ·åˆ°rooté™„åŠ ç»„</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token plain">.è®¾ç½®å½“å‰ç”¨æˆ·ä¸ºjenkins</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>ğŸ‘‰ æ„å»º <code>Docker</code> é•œåƒ name=jenkins:dotnet</li></ul><p>cd åˆ°æ ¹ç›®å½•ä¸‹ï¼ˆå¿…é¡»å« <code>Dockerfile</code>ï¼‰ åªéœ€æ„å»ºå‘½ä»¤ï¼š</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> docker build -t jenkins:dotnet </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>ç‰¹åˆ«æ³¨æ„</h5></div><div class="admonition-content"><p>åç«¯çš„ <code>.</code> ä¸èƒ½çœç•¥</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="35122-è¿è¡Œ-jenkinsdotnet-é•œåƒ"></a>35.1.2.2 è¿è¡Œ Jenkins:dotnet é•œåƒ<a class="hash-link" href="#35122-è¿è¡Œ-jenkinsdotnet-é•œåƒ" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -d -p </span><span class="token number" style="color:rgb(247, 140, 108)">8080</span><span class="token plain">:8080 -p </span><span class="token number" style="color:rgb(247, 140, 108)">50000</span><span class="token plain">:50000 --name mjenkins  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           --privileged</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">true </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           --restart always </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           -u root </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           -e </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">TZ</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Asia/Shanghai&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           -v /mudata/jenkins:/var/jenkins_home </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           -v /usr/bin/docker:/usr/bin/docker </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           -v /var/run/docker.sock:/var/run/docker.sock </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           -v /mudata/webroot/:/mudata/webroot </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           jenkins:dotnet</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>æ¥ä¸‹æ¥å°±æ˜¯æ¯”è¾ƒä¿—å¥—çš„å®‰è£… Jenkins æ­¥éª¤ï¼Œç½‘ä¸Šèµ„æ–™å¾ˆå¤šï¼Œä¸å±•å¼€äº†ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="3513-jenkins-çš„è‡ªåŠ¨åŒ–éƒ¨ç½²"></a>35.1.3 Jenkins çš„è‡ªåŠ¨åŒ–éƒ¨ç½²<a class="hash-link" href="#3513-jenkins-çš„è‡ªåŠ¨åŒ–éƒ¨ç½²" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="35131-ç¼–å†™-shell-è„šæœ¬"></a>35.1.3.1 ç¼–å†™ Shell è„šæœ¬<a class="hash-link" href="#35131-ç¼–å†™-shell-è„šæœ¬" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Jenkins æ„å»º æµ‹è¯•æœ</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;============æŸ¥çœ‹æ‰“åŒ…ç¯å¢ƒ================&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">pwd</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">ls</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PATH</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">image_version</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable function" style="color:rgb(130, 170, 255)">date</span><span class="token variable" style="color:rgb(191, 199, 213)"> +%Y%m%d%H%M</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$image_version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet --info</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet --version</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è·å–çŸ­ç‰ˆæœ¬å·</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">GITHASH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable function" style="color:rgb(130, 170, 255)">git</span><span class="token variable" style="color:rgb(191, 199, 213)"> rev-parse --short HEAD</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;============================begin restore=======================================&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet restore</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;============================end restore=======================================&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#è¦æ„å»ºçš„è§£å†³æ–¹æ¡ˆåç§°</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">solutionName</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">MUSaas.SCM.BasicData</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#docker runçš„å®¹å™¨åç§°</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">containerName</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">jenkinsscmbasic</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#æŒ‡å®šrunçš„ç«¯å£</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">9994</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#.slnæ–‡ä»¶å…¨è·¯å¾„</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#solutionDir=20-Solution/${solutionName}.sln</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#.csprojæ–‡ä»¶å…¨è·¯å¾„</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">csprojDir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">${solutionName}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${solutionName}</span><span class="token plain">.csproj</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#é¡¹ç›®å‘å¸ƒçš„ç›®å½•</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">webDir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/mudata/webroot/jenkins/publish/webapp</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#å½’æ¡£ç›®å½•</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">archivesDir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/mudata/webroot/jenkins/publish/archives</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#æ¸…ç©ºæ–‡ä»¶å¤¹</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -rf </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain">/*</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#å‘å¸ƒç½‘ç«™åˆ°webDir</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet publish </span><span class="token variable" style="color:rgb(191, 199, 213)">${JENKINS_HOME}</span><span class="token plain">/workspace/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${csprojDir}</span><span class="token plain"> -c Release -o </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain"> /p:Version</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain">.</span><span class="token variable" style="color:rgb(191, 199, 213)">${BUILD_NUMBER}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#å¤åˆ¶é…ç½®æ–‡ä»¶</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#cp -rf /vdb1/jenkins/DotNetCoreWebPublishToDockerCommonConfigs/* ${webDir}/${JOB_NAME}/</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#åˆ¤æ–·æ˜¯å¦å­˜åœ¨</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">CID</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable" style="color:rgb(191, 199, 213)">docker </span><span class="token variable function" style="color:rgb(130, 170, 255)">ps</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">grep</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable string variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">awk</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable string" style="color:rgb(195, 232, 141)">&#x27;{print </span><span class="token variable string variable" style="color:rgb(191, 199, 213)">$1</span><span class="token variable string" style="color:rgb(195, 232, 141)">}&#x27;</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$CID</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$CID</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    docker stop </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    docker </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    docker rmi </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#docker stop $CID</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#docker rm $CID</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">fi</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#é€šè¿‡Dockerfileé‡æ–°æ„å»ºé•œåƒ</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker build -t </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain">/.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#docker runå®¹å™¨å¹¶ç»‘å®šåˆ°ç«¯å£</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#docker run -d -p ${port}:80 --name ${containerName} ${containerName}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --name </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"> --restart</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">always -d -p </span><span class="token variable" style="color:rgb(191, 199, 213)">${port}</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token variable" style="color:rgb(191, 199, 213)">${port}</span><span class="token plain"> -v /etc/localtime:/etc/localtime:ro </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;success!&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>å°±è¿™æ ·è‡ªåŠ¨åŒ–éƒ¨ç½²å°±å¥½äº†ã€‚ æµ‹è¯•æœçš„ Jenkins å°†æºç æ‹‰ä¸‹æ¥ï¼ŒPublishï¼ŒDocker Buildï¼ŒDocker Runã€‚</p></blockquote><blockquote><p>è¿™é‡Œæƒ³è¦å‘å¸ƒçš„æ—¶å€™ï¼Œæ¯æ¬¡éƒ½éœ€è¦æ‰‹åŠ¨å»ç‚¹å‡»â€œæ„å»ºâ€æ‰ä¼šæ‰§è¡Œã€‚ä¹Ÿå¯ä»¥åšæˆå½“åˆ†æ”¯åˆå¹¶æˆåŠŸåè‡ªåŠ¨è¿è¡Œã€‚åæ­£ Jenkins è£…å¥½ä¹‹åï¼Œä½ æƒ³è¦ä»€ä¹ˆéƒ½èƒ½ç©èµ·æ¥ã€‚æ¯”å¦‚æŒ‡å®šåˆ†æ”¯æäº¤åè‡ªåŠ¨â€œæ„å»ºâ€ã€æ¯”å¦‚æ„å»ºæˆåŠŸååˆå¹¶åˆ° Master ç­‰ç­‰</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="3514-jenkins-çš„è‡ªåŠ¨åŒ–è¿œç¨‹éƒ¨ç½²"></a>35.1.4 Jenkins çš„è‡ªåŠ¨åŒ–è¿œç¨‹éƒ¨ç½²<a class="hash-link" href="#3514-jenkins-çš„è‡ªåŠ¨åŒ–è¿œç¨‹éƒ¨ç½²" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="35141-å®‰è£…æ’ä»¶"></a>35.1.4.1 å®‰è£…æ’ä»¶<a class="hash-link" href="#35141-å®‰è£…æ’ä»¶" title="Direct link to heading">#</a></h3><blockquote><p>Publish Over SSH</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="35142-é…ç½®"></a>35.1.4.2 é…ç½®<a class="hash-link" href="#35142-é…ç½®" title="Direct link to heading">#</a></h3><blockquote><p>ç³»ç»Ÿç®¡ç†=&gt;Publish over SSH</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="35143-å†™è„šæœ¬"></a>35.1.4.3 å†™è„šæœ¬<a class="hash-link" href="#35143-å†™è„šæœ¬" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Jenkins æ„å»º  æ­£å¼æœ</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;============æŸ¥çœ‹æ‰“åŒ…ç¯å¢ƒ================&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">pwd</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">ls</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$PATH</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">image_version</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable function" style="color:rgb(130, 170, 255)">date</span><span class="token variable" style="color:rgb(191, 199, 213)"> +%Y%m%d%H%M</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$image_version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet --info</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet --version</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># è·å–çŸ­ç‰ˆæœ¬å·</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">GITHASH</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable function" style="color:rgb(130, 170, 255)">git</span><span class="token variable" style="color:rgb(191, 199, 213)"> rev-parse --short HEAD</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;============================begin restore=======================================&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet restore</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;============================end restore=======================================&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#è¦æ„å»ºçš„è§£å†³æ–¹æ¡ˆåç§°</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">solutionName</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">MUSaas.SCM.BulkOrder</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#docker runçš„å®¹å™¨åç§°</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">containerName</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">jenkinsscmbulk</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#æŒ‡å®šrunçš„ç«¯å£</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">9986</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#.csprojæ–‡ä»¶å…¨è·¯å¾„</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">csprojDir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${solutionName}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${solutionName}</span><span class="token plain">.csproj</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#é¡¹ç›®å‘å¸ƒçš„ç›®å½•</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">webDir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/mudata/webroot/jenkins/publish/webapp</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#å½’æ¡£ç›®å½•</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">archivesDir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/mudata/webroot/jenkins/publish/archives</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#æ¸…ç©ºæ–‡ä»¶å¤¹</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -rf </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain">/*</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#å‘å¸ƒç½‘ç«™åˆ°webDir</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet publish </span><span class="token variable" style="color:rgb(191, 199, 213)">${JENKINS_HOME}</span><span class="token plain">/workspace/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${csprojDir}</span><span class="token plain"> -c Release -o </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain"> /p:Version</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain">.</span><span class="token variable" style="color:rgb(191, 199, 213)">${BUILD_NUMBER}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#å¤åˆ¶é…ç½®æ–‡ä»¶</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#cp -rf /vdb1/jenkins/DotNetCoreWebPublishToDockerCommonConfigs/* ${webDir}/${JOB_NAME}/</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#æ„å»ºè¿œç¨‹åŒ…</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -rf </span><span class="token variable" style="color:rgb(191, 199, 213)">${JENKINS_HOME}</span><span class="token plain">/workspace/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain">/publish</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${JENKINS_HOME}</span><span class="token plain">/workspace/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain">/publish</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> -czvf </span><span class="token variable" style="color:rgb(191, 199, 213)">${JENKINS_HOME}</span><span class="token plain">/workspace/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain">/publish/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token variable" style="color:rgb(191, 199, 213)">${BUILD_NUMBER}</span><span class="token plain">.tar.gz -C </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;success!&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>å¤§æ¦‚é€»è¾‘å°±æ˜¯å‘å¸ƒåï¼Œæ‰“ä¸ªåŒ…ã€‚ç„¶åä¸¢ç»™è¿œç¨‹ï¼Œè¿œç¨‹å†æ‰§è¡Œ shell</p></blockquote><blockquote><p>æ³¨æ„è¿™é‡Œä¸€å®šè¦å‘å¸ƒåˆ°è‡ªå·±çš„ workspace ä¸‹ï¼Œé˜²æ­¢ä¸‹ä¸€æ­¥æ­»æ´»æ‰¾ä¸åˆ°ä½ç½®ã€‚å¦‚æœæ‰¾ä¸åˆ°ä½ç½®ï¼Œåªèƒ½æ…¢æ…¢ç”¨ ls å‘½ä»¤ï¼Œä¸€çº§ä¸€çº§å»æµ‹ï¼Œå¾ˆéº»çƒ¦</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="35144-æ„å»ºåæ“ä½œï¼ˆå…³é”®ï¼‰"></a>35.1.4.4 æ„å»ºåæ“ä½œï¼ˆå…³é”®ï¼‰<a class="hash-link" href="#35144-æ„å»ºåæ“ä½œï¼ˆå…³é”®ï¼‰" title="Direct link to heading">#</a></h3><p>é€‰æ‹© Send Build artifacts over SSH</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Source files: publish/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Remove prefix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ä¸å¡«</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Remote directory:/mudata/webroot/publish/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Exec command:bash /mudata/shell/publish.sh  </span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token plain"> jenkinsscmbase </span><span class="token variable" style="color:rgb(191, 199, 213)">${JOB_NAME}</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token variable" style="color:rgb(191, 199, 213)">${BUILD_NUMBER}</span><span class="token plain">  </span><span class="token number" style="color:rgb(247, 140, 108)">9994</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>é€‰æ‹©è‡ªå·±çš„ SSH æœåŠ¡å™¨</li><li>Source filesï¼šä¸€å®šæ˜¯ workspace ä¸‹çš„åœ°å€</li><li>Remote directoryï¼šè¿œç¨‹åœ°å€ï¼Œä»æ ¹ç›®å½•å¼€å§‹</li><li>Exec commandï¼šè¦æ‰§è¡Œçš„ shellã€‚è¿™é‡Œæ‰€æœ‰çš„ Jenkins ç¯å¢ƒå˜é‡éƒ½å¯ä»¥ç”¨</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="35145-è¿œç¨‹æ‰§è¡Œ"></a>35.1.4.5 è¿œç¨‹æ‰§è¡Œ<a class="hash-link" href="#35145-è¿œç¨‹æ‰§è¡Œ" title="Direct link to heading">#</a></h3><p>publish.sh</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Jenkins Prodæœ è°ƒç”¨è„šæœ¬</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">solutionName</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">containerName</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$2</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">filename</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$3</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$4</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#.publis</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${solutionName}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${filename}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">baseDir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/mudata/webroot/publish</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">webDir</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">${baseDir}</span><span class="token plain">/publish/</span><span class="token variable" style="color:rgb(191, 199, 213)">${filename}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -rf </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> -zxvf </span><span class="token variable" style="color:rgb(191, 199, 213)">${baseDir}</span><span class="token plain">/publish/</span><span class="token variable" style="color:rgb(191, 199, 213)">${filename}</span><span class="token plain">.tar.gz -C </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain">/</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -f  </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain">/appsettings.json </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mv</span><span class="token plain">  </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain">/appsettings.Prod.json  </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain">/appsettings.json</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#åˆ¤æ–·æ˜¯å¦å­˜åœ¨</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">CID</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable" style="color:rgb(191, 199, 213)">docker </span><span class="token variable function" style="color:rgb(130, 170, 255)">ps</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">grep</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable string variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token variable string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">awk</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable string" style="color:rgb(195, 232, 141)">&#x27;{print </span><span class="token variable string variable" style="color:rgb(191, 199, 213)">$1</span><span class="token variable string" style="color:rgb(195, 232, 141)">}&#x27;</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$CID</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token string variable" style="color:rgb(191, 199, 213)">$CID</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    docker stop </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    docker </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    docker rmi </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#docker stop $CID</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#docker rm $CID</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">fi</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain">  </span><span class="token variable" style="color:rgb(191, 199, 213)">${webDir}</span><span class="token plain">/ </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> docker build -t </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --name </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span><span class="token plain"> --restart</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">always -d -p </span><span class="token variable" style="color:rgb(191, 199, 213)">${port}</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token variable" style="color:rgb(191, 199, 213)">${port}</span><span class="token plain"> --link myredis:myredis  -v /etc/localtime:/etc/localtime:ro </span><span class="token variable" style="color:rgb(191, 199, 213)">${containerName}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>è¿™é‡Œçš„é€»è¾‘å°±æ˜¯è§£å‹ï¼Œç„¶å Docker ç›¸å…³ã€‚æ¯æ¬¡æ„å»ºéƒ½æ˜¯å¸¦ç€ç‰ˆæœ¬å·æ¥çš„</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="3515-åé¦ˆä¸å»ºè®®"></a>35.1.5 åé¦ˆä¸å»ºè®®<a class="hash-link" href="#3515-åé¦ˆä¸å»ºè®®" title="Direct link to heading">#</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ä¸æˆ‘ä»¬äº¤æµ</h5></div><div class="admonition-content"><p>ç»™ Furion æ <a href="https://gitee.com/dotnetchina/Furion/issues/new?issue" target="_blank" rel="noopener noreferrer">Issue</a>ã€‚</p></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://gitee.com/dotnetchina/Furion/tree/master/handbook/docs/deploy-docker-auto.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2021-06-30T07:11:03.000Z">6/30/2021</time></b> by <b>Monk</b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/furion/docs/virtual-deploy"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« 34.4 äºŒçº§è™šæ‹Ÿç›®å½•éƒ¨ç½²</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/furion/docs/devops"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">35.2 æŒç»­éƒ¨ç½²é›†æˆ Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#3511-å…³äºå…¨docker-ç¯å¢ƒéƒ¨ç½²" class="table-of-contents__link">35.1.1 å…³äºå…¨<code>Docker</code> ç¯å¢ƒéƒ¨ç½²</a></li><li><a href="#3512-å®‰è£…-docker-ç‰ˆ-jenkins" class="table-of-contents__link">35.1.2 å®‰è£… Docker ç‰ˆ Jenkins</a><ul><li><a href="#35121-ä½¿ç”¨-dockerfile-åˆ¶ä½œé•œåƒ" class="table-of-contents__link">35.1.2.1 ä½¿ç”¨ Dockerfile åˆ¶ä½œé•œåƒ</a></li><li><a href="#35122-è¿è¡Œ-jenkinsdotnet-é•œåƒ" class="table-of-contents__link">35.1.2.2 è¿è¡Œ Jenkins:dotnet é•œåƒ</a></li></ul></li><li><a href="#3513-jenkins-çš„è‡ªåŠ¨åŒ–éƒ¨ç½²" class="table-of-contents__link">35.1.3 Jenkins çš„è‡ªåŠ¨åŒ–éƒ¨ç½²</a><ul><li><a href="#35131-ç¼–å†™-shell-è„šæœ¬" class="table-of-contents__link">35.1.3.1 ç¼–å†™ Shell è„šæœ¬</a></li></ul></li><li><a href="#3514-jenkins-çš„è‡ªåŠ¨åŒ–è¿œç¨‹éƒ¨ç½²" class="table-of-contents__link">35.1.4 Jenkins çš„è‡ªåŠ¨åŒ–è¿œç¨‹éƒ¨ç½²</a><ul><li><a href="#35141-å®‰è£…æ’ä»¶" class="table-of-contents__link">35.1.4.1 å®‰è£…æ’ä»¶</a></li><li><a href="#35142-é…ç½®" class="table-of-contents__link">35.1.4.2 é…ç½®</a></li><li><a href="#35143-å†™è„šæœ¬" class="table-of-contents__link">35.1.4.3 å†™è„šæœ¬</a></li><li><a href="#35144-æ„å»ºåæ“ä½œï¼ˆå…³é”®ï¼‰" class="table-of-contents__link">35.1.4.4 æ„å»ºåæ“ä½œï¼ˆå…³é”®ï¼‰</a></li><li><a href="#35145-è¿œç¨‹æ‰§è¡Œ" class="table-of-contents__link">35.1.4.5 è¿œç¨‹æ‰§è¡Œ</a></li></ul></li><li><a href="#3515-åé¦ˆä¸å»ºè®®" class="table-of-contents__link">35.1.5 åé¦ˆä¸å»ºè®®</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">æ–‡æ¡£</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/furion/docs/get-start">å…¥é—¨</a></li><li class="footer__item"><a class="footer__link-item" href="/furion/docs">æŒ‡å—</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">ç¤¾åŒº</h4><ul class="footer__items"><li class="footer__item"><a href="https://gitee.com/dotnetchina/Furion/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">è®¨è®º</a></li><li class="footer__item"><a href="https://gitee.com/dotnetchina/Furion/board" target="_blank" rel="noopener noreferrer" class="footer__link-item">çœ‹æ¿</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">æ›´å¤š</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/furion/blog">åšå®¢</a></li><li class="footer__item"><a href="https://gitee.com/dotnetchina/Furion" target="_blank" rel="noopener noreferrer" class="footer__link-item">ä»“åº“</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://gitee.com/dotnetchina" target="_blank" rel="noopener noreferrer" class="footerLogoLink_qW4Z"><img class="footer__logo" src="/furion/img/chinadotnet.png" style="background:#fff;padding:5px 10px"></a></div><div class="footer__copyright">Copyright Â© 2020-2021 Furion, Baiqian Co.,Ltd.</div></div></div></footer><div class="furion-join-group"><a href="/furion/blog"> âœ¨ å°é²œ .NET Preview 6 ç‰ˆæœ¬ âœ¨</a></div><div class="furion-star-project"><button class="furion-star-close">æ”¶èµ·</button><a href="https://www.processon.com/" target="_blank" title="å…è´¹åœ¨çº¿æµç¨‹å›¾æ€ç»´å¯¼å›¾"><img src="/furion/img/processon.png"></a><a class="furion-star-title" style="color:yellow" href="https://www.processon.com/" target="_blank" title="ç‚¹å‡»æŸ¥çœ‹è·³è½¬">ç‚¹å‡»è¿›å…¥ ProcessOn</a></div></div>
<script src="/furion/assets/js/runtime~main.9d1289c1.js"></script>
<script src="/furion/assets/js/main.d28e27a7.js"></script>
</body>
</html>